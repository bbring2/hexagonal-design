# Chapter 1 - Why Hexagonal Architecture?
Following are the instructions to compile and run the code samples.

You need to run these commands from within the chapter 1 directory:

**To compile**
```
mvn clean package
```

**To run**
```
java -jar target/chapter1-1.0-SNAPSHOT.jar
```

---

## 아키텍처 핵심 기초
### 1. 왜 헥사고날 아키텍처인가?
> - 소프트웨어 아키텍처 검토
> - 헥사고날 아키텍처의 이해

**1.1. 소프트웨어 아키텍처 검토하기**
- 동작하는 소프트웨어가 아닌, 쉽게 유지보수 할 수 있고, 잘 구성된 소프트웨어를 만들려고 하는 경우 소프트웨어를 만들기 위해 도입한 세부사항에 대한 주의와 관심 때문에 어느 정도 소프트웨어를 일종의 예술로 간주한다.
- 소프트웨어 아키텍처의 역할이 소프트웨어를 만드는 방법을 결정하는 것에만 국한돼서는 안되는 점도 인지하자.
- 설계 부분에 있어서는, 한 사람이 가진 생각의 결실이 되어서는 안되고, 소프트웨어 품질을 개선하기 위한 활동과 관련된 모든 사람과의 협업과 경험이 필요하다.

**1.2. 보이지 않는 것들**
- 고객이 서비스를 이용하면서 그들이 볼 수 있는 것, 즉, 비즈니스 기대치를 만족하면서 동작하는 소프트웨어에 관심 갖기 쉽다. 
- 하지만, 보안, 유지보수성, 운영 가능성, 그리고 다른 기능과 관련된 것들을 비기능적 요구사항이라고 하는데, 이러한 고객 관점에서 볼 수 없는 것들 또한 관심을 갖고 소프트웨어의 목적을 손상 시키는 것을 막을 수 있다.
- 이러한 것들을 보완하고 지키기 위해서 도메인 주도 계발 같은 기법이 문제에 접근하는데 도움을 준다.

**1.3. 기술 부채와 악순환**
- 기술 부채 : 소프트웨어 코드내에 존재하는 불필요한 복잡성이 얼마나 존재하는지 설명하기 위해 사용되는 용어
- 크러프트 : 코드에 남아 있는 중복되고 방해되는 모든 것을 의미하며, 특히 컴퓨터 소프트웨어에서 결함이 있거나 다른 것으로 대체되거나 쓸모 없거나 불필요하거나, 기능적으로 문제가 있는 요소를 가리키는 전문 용어 
- 이러한 기술 부채는 재정 부채와 달리 갚아도 되지 않을 특권은 있지만, 기술 부채 비율이 높을수록 코드는 점점 더 관리하기가 어려워지고, 이는 개발자가 문제 해결을 위해 코드를 전혀 건드리지 않거나 어색한 해결 방법을 찾는 원인이 되는 것이다.

**1.4. 아키텍처는 모두를 위한 것이 아니다**
- 소프트웨어 아키텍처 원칙을 강제화하고 시행하기 전에 현재 환경을 평가하여 더 나은 시스템을 위해 기준을 높이려는 태도에 반대하는 문화적 요인이나, 조직적 요인이 없는지 확인하는 것이 필요하다. 

**1.5. 헥사고날 아키텍처 이해**
- 알리스테어 코크번은 "여러분의 애플리케이션을 UI나 데이터베이스 없이 동작하도록 만드십시오. 그러면 애플리케이션에 대해 자동화된 회귀 테스트를 실행할 수 있고, 데이터베이스를 사용할 수 없을 때도 동작합니다. 그리고 어떤 사용자의 개입 없이도 애플리케이션을 함께 연결할 수 있습니다." 라고 말했다. 이 말은 헥사고날 아키텍처를 이해하는데 도움이 된다.
- 비즈니스 코드를 기술 코드로부터 분리하는 것이며, 기술 측면이 비즈니스 측면에 의존하는지도 확인해야 비즈니스 측면이 비즈니스 목표를 달성하는 데 사용되는 기술에 대한 우려 없이도 발전할 수 있게 되어야한다. 
- 즉, 헥사고날 아키텍처는 이러한 목표를 이루기 위해 비즈니스 코드가 어디에 존재해야 하는지, 기술 문제로부터 격리되고 보호돼야 하는 위치를 결정해야하며, 이것은 도메인 헥사곤을 생성하게 하는 것이다.
- 애플리케이션 헥사곤은 도메인 헥사곤에서 나오는 비즈니스 규칙을 사용 및 처리하고 조정하는 방법을 포트와 유스케이스를 활용하여 기능을 수행한다.
- 프레임 헥사곤은 외부 인터페이스를 제공한다. REST나 gRPC 엔드 포인트 등을 정의한다. 


**1.6. 도메인 헥사곤**
- 하는일 : 실 세계 문제를 이해하고 모델링 하는 활동
- 구성 : 비즈니스 데이터 규칙에 관련된 엔티티와 식별성을 갖지 않는 값 객체
    - 엔티티 : 연속성과 정체성이 있는 객체 
    - 값 객체 : 식별할 필요가 없는 객체이면서 객체의 정체성보다 속성에 관심을 갖는 경우이면서 불변 객체

**1.7. 애플리케이션 헥사곤**
- 하는일 : 애플리케이션 특화 작업을 추상적으로 처리하는 곳이자 도메인 비즈니스 규칙에 기반한 소프트웨어 사용자의 의도와 기능을 표현하는 곳
- 구성 
  - 유스케이스 : 도메인 제약사항을 지원하기 위해 시스템의 동작을 소프트웨어 영역 내에 존재하는 애플리케이션 특화 오퍼레이션을 통해 나타낼 수 있음
  - 입력 포트 : 유스케이스 인터페이스를 구현하는 것
  - 출력 포트 : 유스케이스가 목표를 달성하기 위해 외부 리소스에서 데이터를 가져오는 역할

**1.8. 프레임워크 헥사곤**
- 하는일 : 도메인 헥사곤과 애플리케이션 헥사곤의 소프트웨어와 통신할 수 있는 기술을 결정하는 곳
- 구성
  - 드라이빙 오퍼레이션 : 입력 어댑터 상단에 구축된 API를 통해 동작을 요청하는 것
  - 입력 어댑터 : 애플리케이션에서 지원하는 프로토콜을 정의하는 것 
  - 드리븐 오퍼레이션 : 애플리케이션에서 트리거 되고, 외부에서 소프트웨어 요구사항을 충족시키는데 필요한 데이터를 가져오는 역할
  - 출력 어댑터 : 데이터를 어떻게 가져올지 설명하는 것

> 왜 "driven" 이라는 용어를 사용할까? <br> 헥사고날 애플리케이션 자체에 의해 이러한 오퍼레이션은 유도되고 통제되며, 다른 외부 시스템에서 동작을 트리거하기 때문!

**1.9. 헥사고날 접근 방식의 장점**
- 변경 허용(Change-tolerant) : 헥사고날 아키텍처의 포트와 어댑터라는 특성은 마찰도 적고 기술 변화를 흡수하기 좋다. 애플리케이션을 위한 아키텍처 원칙을 강력한 이점으로 제공한다.
- 유지보수성(Maintainability) : 헥사고날 아키텍처에서는 비즈니스 규칙을 변경해야 하는 경우 유일하게 하는 것은 도메인 헥사곤이고, 다른 헥사곤들은 생성만 해주면된다. 이로인해 소중한 시간자원을 절약할 수 있다.
- 테스트 용이성(Testability) : 헥사고날 아키텍처는 코드의 가장 중요한 부분을 테스트하는 데 필요한 유연성을 제공하며, 계속해서 통합하는 방식을 허용하게 된다. 

